View(four_cities)
write_csv(four_cities, path = "updated_cleaned_four_cities.csv")
la_df = read_csv("updated_cleaned_la_hotel.csv")
setwd("/Users/judyteng/Desktop/stat133/finalproject-airbnb-team/hotels_cleaning")
a = read_csv("cleaned_ch.csv")
View(a)
a = read_csv("cleaned_four_hotels.csv")
View(a)
a = read_csv("cleaned_sf.csv")
/Users/judyteng/Desktop/stat133/finalproject-airbnb-team/vis_4
setwd("/Users/judyteng/Desktop/stat133/finalproject-airbnb-team/vis_4")
citydf = read_csv("updated_four_cities.csv") %>%
mutate(city = factor(city, levels = c("la", "ch", "sf", "nyc"),
labels = c("Los Angeles", "Chicago", "San Francisco", "New York"))) %>%
group_by(Room.type, city) %>%
mutate(dailyavg = mean(price))
ggplot(citydf)+
geom_bar(aes(x = Room.type,
y = dailyavg,
fill = Room.type),
color = "black",
stat="identity",
position = position_dodge(),
width = 0.2) +
coord_flip() +
scale_y_continuous(labels = dollar_format(prefix = "$")) +
facet_grid(~city) +
labs(title = "Average daily rate of Airbnb rentals by type of room",
x = "Type of Room",
y = "Price") +
scale_fill_discrete(name = "Type of Room")
library(ggplot2)
library(dplyr)
library(tidyr)
library(readr)
library(stringr)
ggplot(citydf)+
geom_bar(aes(x = Room.type,
y = dailyavg,
fill = Room.type),
color = "black",
stat="identity",
position = position_dodge(),
width = 0.2) +
coord_flip() +
scale_y_continuous(labels = dollar_format(prefix = "$")) +
facet_grid(~city) +
labs(title = "Average daily rate of Airbnb rentals by type of room",
x = "Type of Room",
y = "Price") +
scale_fill_discrete(name = "Type of Room")
ggplot(citydf)+
geom_bar(aes(x = Room.type,
y = dailyavg,
fill = Room.type),
color = "black",
stat="identity",
position = position_dodge(),
width = 0.2) +
coord_flip() +
scale_y_continuous(labels = dollar_format(prefix = "$")) +
facet_grid(~city) +
labs(title = "Average daily rate of Airbnb rentals by type of room",
x = "Type of Room",
y = "Price") +
scale_fill_discrete(name = "Type of Room")
help(dollar_format)
ggplot(citydf)+
geom_bar(aes(x = Room.type,
y = dailyavg,
fill = Room.type),
color = "black",
stat="identity",
position = position_dodge(),
width = 0.2) +
coord_flip() +
scale_y_continuous(labels = dollar_format(prefix = "$"))
setwd("/Users/judyteng/Desktop/stat133/finalproject-airbnb-team/vis_1")
hoteldf = read_csv("cleaned_four_hotels.csv") %>%
mutate(Property.Form = "hotel") %>%
select(Price, Room.Type, City, `Bed(s)`, Property.Form, Avg)
hoteldf = read_csv("cleaned_four_hotels.csv")
View(hoteldf)
View(hoteldf)
View(hoteldf)
hoteldf = read_csv("cleaned_four_hotels.csv") %>%
mutate(Property.Form = "hotel") %>%
mutate(Avg = mean(Price)) %>%
select(Price, Room.Type, City, `Bed(s)`, Property.Form, Avg)
View(hoteldf)
hoteldf = read_csv("cleaned_four_hotels.csv") %>%
mutate(Property.Form = "hotel",
parse_number(Price)) %>%
mutate(Avg = mean(Price)) %>%
select(Price, Room.Type, City, `Bed(s)`, Property.Form, Avg)
hoteldf = read_csv("cleaned_four_hotels.csv") %>%
mutate(Property.Form = "hotel",
parse_number(Price))
View(hoteldf)
hoteldf = read_csv("cleaned_four_hotels.csv") %>%
mutate(Property.Form = "hotel",
Price = parse_number(Price))
View(hoteldf)
hoteldf = read_csv("cleaned_four_hotels.csv") %>%
mutate(Property.Form = "hotel",
Price = parse_number(Price)) %>%
mutate(Avg = mean(Price)) %>%
select(Price, Room.Type, City, `Bed(s)`, Property.Form, Avg)
View(hoteldf)
citydf = read_csv("updated_cleaned_four_cities.csv") %>%
mutate(Property.Form = "airbnb") %>%
select(Price, Room.Type, City, `Bed(s)`, Property.Form) %>%
filter(`Bed(s)` < 3) %>%
group_by(City, `Bed(s)`) %>%
mutate(Avg = mean(Price))
hotel_citydf = rbind(hoteldf, citydf)
write_csv(hotel_citydf, "hotel_citydf.csv")
hotel_citydf = read_csv("hotel_citydf.csv")
ggplot(hotel_citydf, aes(`Bed(s)`, Avg, fill = Property.Form))+
geom_bar(stat="identity", position=position_dodge()) +
facet_grid(~City)+
scale_x_continuous(breaks = c(1,2))
unique(hotel_citydf$City)
View(citydf)
unique(citydf$City)
setwd("/Users/judyteng/Desktop/stat133/finalproject-airbnb-team/hotels_cleaning")
a = read_csv("cleaned_sf_hotel.csv")
a = read_csv("cleaned_ny_hotel.csv")
unique(a$City)
b= read_csv("cleaned_four_hotels.csv")
unique(b$City)
la_df = read_csv("cleaned_la_hotel.csv")
ch_df = read_csv("cleaned_ch_hotel.csv")
ny_df = read_csv("cleaned_ny_hotel.csv")
sf_df = read_csv("cleaned_sf_hotel.csv")
cleaned_four_hotels = rbind(la_df, ch_df, ny_df, sf_df)
write_csv(cleaned_four_hotels, "cleaned_four_hotels.csv")
unique(cleaned_four_hotels$City)
setwd("/Users/judyteng/Desktop/stat133/finalproject-airbnb-team/vis_1")
hoteldf = read_csv("cleaned_four_hotels.csv")
unique(hoteldf$City)
hoteldf = read_csv("cleaned_four_hotels.csv") %>%
mutate(Property.Form = "hotel",
Price = parse_number(Price),
mutate(City = factor(City,
levels = c("la","sf","ch","nyc"),
labels= c("Los Angeles","San Francisco","Chicago","New York City")))
) %>%
mutate(Avg = mean(Price)) %>%
select(Price, Room.Type, City, `Bed(s)`, Property.Form, Avg) %>%
hoteldf = read_csv("cleaned_four_hotels.csv") %>%
mutate(Property.Form = "hotel",
Price = parse_number(Price),
mutate(City = factor(City,
levels = c("la","sf","ch","nyc"),
labels= c("Los Angeles","San Francisco","Chicago","New York City")))
) %>%
mutate(Avg = mean(Price)) %>%
select(Price, Room.Type, City, `Bed(s)`, Property.Form, Avg)
hoteldf = read_csv("cleaned_four_hotels.csv") %>%
mutate(Property.Form = "hotel",
Price = parse_number(Price),
City = factor(City,
levels = c("la","sf","ch","nyc"),
labels= c("Los Angeles","San Francisco","Chicago","New York City"))) %>%
mutate(Avg = mean(Price)) %>%
select(Price, Room.Type, City, `Bed(s)`, Property.Form, Avg)
unique(hoteldf$City)
citydf = read_csv("updated_cleaned_four_cities.csv") %>%
mutate(Property.Form = "airbnb") %>%
select(Price, Room.Type, City, `Bed(s)`, Property.Form) %>%
filter(`Bed(s)` < 3) %>%
group_by(City, `Bed(s)`) %>%
mutate(Avg = mean(Price))
hotel_citydf = rbind(hoteldf, citydf)
write_csv(hotel_citydf, "hotel_citydf.csv")
hotel_citydf = read_csv("hotel_citydf.csv")
ggplot(hotel_citydf, aes(`Bed(s)`, Avg, fill = Property.Form))+
geom_bar(stat="identity", position=position_dodge()) +
facet_grid(~City)+
scale_x_continuous(breaks = c(1,2))
unique(hotel_citydf$City)
View(hotel_citydf)
hoteldf = read_csv("cleaned_four_hotels.csv") %>%
mutate(Property.Form = "hotel",
Price = parse_number(Price),
City = factor(City,
levels = c("la","sf","ch","nyc"),
labels= c("Los Angeles","San Francisco","Chicago","New York City"))) %>%
mutate(Avg = mean(Price)) %>%
select(Price, Room.Type, City, `Bed(s)`, Property.Form, Avg)
citydf = read_csv("updated_cleaned_four_cities.csv") %>%
mutate(Property.Form = "airbnb",
City = factor(City,
levels = c("la","sf","ch","nyc"),
labels= c("Los Angeles","San Francisco","Chicago","New York City"))) %>%
select(Price, Room.Type, City, `Bed(s)`, Property.Form) %>%
filter(`Bed(s)` < 3) %>%
group_by(City, `Bed(s)`) %>%
mutate(Avg = mean(Price))
hotel_citydf = rbind(hoteldf, citydf)
write_csv(hotel_citydf, "hotel_citydf.csv")
hotel_citydf = read_csv("hotel_citydf.csv")
ggplot(hotel_citydf, aes(`Bed(s)`, Avg, fill = Property.Form))+
geom_bar(stat="identity", position=position_dodge()) +
facet_grid(~City)+
scale_x_continuous(breaks = c(1,2))
hoteldf = read_csv("cleaned_four_hotels.csv") %>%
mutate(Property.Form = "hotel",
Price = parse_number(Price),
City = factor(City,
levels = c("la","sf","ch","nyc"),
labels= c("Los Angeles","San Francisco","Chicago","New York City"))) %>%
mutate(Avg = mean(Price)) %>%
select(Price, Room.Type, City, `Bed(s)`, Property.Form, Avg)
unique(hoteldf$City)
citydf = read_csv("updated_cleaned_four_cities.csv")
unique(citydf$City)
citydf = read_csv("updated_cleaned_four_cities.csv") %>%
mutate(Property.Form = "airbnb",
City = factor(City,
levels = c("la","sf","ch","ny"),
labels= c("Los Angeles","San Francisco","Chicago","New York City"))) %>%
select(Price, Room.Type, City, `Bed(s)`, Property.Form) %>%
filter(`Bed(s)` < 3) %>%
group_by(City, `Bed(s)`) %>%
mutate(Avg = mean(Price))
hotel_citydf = rbind(hoteldf, citydf)
write_csv(hotel_citydf, "hotel_citydf.csv")
hotel_citydf = read_csv("hotel_citydf.csv")
ggplot(hotel_citydf, aes(`Bed(s)`, Avg, fill = Property.Form))+
geom_bar(stat="identity", position=position_dodge()) +
facet_grid(~City)+
scale_x_continuous(breaks = c(1,2))
ggplot(hotel_citydf, aes(`Bed(s)`, Avg, fill = Property.Form))+
geom_bar(stat="identity", position=position_dodge()) +
facet_grid(~City)+
scale_x_continuous(breaks = c(1,2)) +
labs(x = "Number of Beds", y = "Average Price Per Night")
View(hotel_citydf)
ggplot(hotel_citydf, aes(`Bed(s)`, Avg, fill = Property.Form))+
geom_bar(stat="identity", position=position_dodge()) +
facet_grid(~City)+
scale_x_continuous(breaks = c(1,2)) +
labs(x = "Number of Beds",
y = "Average Price Per Night",
title = "Price Comparisons Between Airbnb & Hotels")
install.packages("ggthemes")
library(ggthemes)
help(ggthemes)
ggplot(hotel_citydf, aes(`Bed(s)`, Avg, fill = Property.Form))+
geom_bar(stat="identity", position=position_dodge()) +
facet_grid(~City)+
scale_x_continuous(breaks = c(1,2)) +
labs(x = "Number of Beds",
y = "Average Price Per Night",
title = "Price Comparisons Between Airbnb & Hotels") +
theme_economist()
ggplot(hotel_citydf, aes(`Bed(s)`, Avg, fill = Property.Form))+
geom_bar(stat="identity", position=position_dodge()) +
facet_grid(~City)+
scale_x_continuous(breaks = c(1,2)) +
scale_y_continuous(breaks = seq(0,500,100)) +
labs(x = "Number of Beds",
y = "Average Price Per Night",
title = "Price Comparisons Between Airbnb & Hotels") +
theme_economist() +
scale_color_economist()
ggplot(hotel_citydf, aes(`Bed(s)`, Avg, fill = Property.Form))+
geom_bar(stat="identity", position=position_dodge()) +
facet_grid(~City)+
scale_x_continuous(breaks = c(1,2)) +
scale_y_continuous(breaks = seq(0,500,100)) +
labs(x = "Number of Beds",
y = "Average Price Per Night",
title = "Price Comparisons Between Airbnb & Hotels") +
scale_fill_discrete(labels = "Property Form") +
theme_economist_white() +
scale_color_economist()
ggplot(hotel_citydf, aes(`Bed(s)`, Avg, fill = Property.Form))+
geom_bar(stat="identity", position=position_dodge()) +
facet_grid(~City)+
scale_x_continuous(breaks = c(1,2)) +
scale_y_continuous(breaks = seq(0,500,100)) +
labs(x = "Number of Beds",
y = "Average Price Per Night",
title = "Price Comparisons Between Airbnb & Hotels") +
scale_fill_discrete(labels = "Property Form") +
theme_wsj() +
scale_color_wsj()
ggplot(hotel_citydf, aes(`Bed(s)`, Avg, fill = Property.Form))+
geom_bar(stat="identity", position=position_dodge()) +
facet_grid(~City)+
scale_x_continuous(breaks = c(1,2)) +
scale_y_continuous(breaks = seq(0,500,100)) +
labs(x = "Number of Beds",
y = "Average Price Per Night",
title = "Price Comparisons Between Airbnb & Hotels") +
scale_fill_discrete(labels = "Property Form") +
theme_economist() +
scale_color_economist()
hotel_citydf = read_csv("hotel_citydf.csv")
unique(hotel_citydf$Property.Form)
ggplot(hotel_citydf, aes(`Bed(s)`, Avg, fill = Property.Form))+
geom_bar(stat="identity", position=position_dodge()) +
facet_grid(~City)+
scale_x_continuous(breaks = c(1,2)) +
scale_y_continuous(breaks = seq(0,500,100)) +
labs(x = "Number of Beds",
y = "Average Price Per Night",
title = "Price Comparisons Between Airbnb & Hotels") +
theme_economist() +
scale_color_economist()
ggplot(hotel_citydf, aes(`Bed(s)`, Avg, fill = Property.Form))+
geom_bar(stat="identity", position=position_dodge()) +
facet_grid(~City)+
scale_x_continuous(breaks = c(1,2)) +
scale_y_continuous(ticks = seq(0,500,100)) +
labs(x = "Number of Beds",
y = "Average Price Per Night",
title = "Price Comparisons Between Airbnb & Hotels") +
theme_economist() +
scale_color_economist()
ggplot(hotel_citydf, aes(`Bed(s)`, Avg, fill = Property.Form))+
geom_bar(stat="identity", position=position_dodge()) +
facet_grid(~City)+
scale_x_continuous(breaks = c(1,2)) +
scale_y_continuous(tick = seq(0,500,100)) +
labs(x = "Number of Beds",
y = "Average Price Per Night",
title = "Price Comparisons Between Airbnb & Hotels") +
theme_economist() +
scale_color_economist()
help("scale_y_continuous")
ggplot(hotel_citydf, aes(`Bed(s)`, Avg, fill = Property.Form))+
geom_bar(stat="identity", position=position_dodge()) +
facet_grid(~City)+
scale_x_continuous(breaks = c(1,2)) +
scale_y_continuous(breaks =  seq(0,500,100)) +
labs(x = "Number of Beds",
y = "Average Price Per Night",
title = "Price Comparisons Between Airbnb & Hotels") +
theme_economist() +
scale_color_economist()
ggplot(hotel_citydf, aes(`Bed(s)`, Avg, fill = Property.Form))+
geom_bar(stat="identity", position=position_dodge()) +
facet_grid(~City)+
scale_x_continuous(breaks = c(1,2)) +
scale_y_continuous(limits =  seq(0,500,100)) +
labs(x = "Number of Beds",
y = "Average Price Per Night",
title = "Price Comparisons Between Airbnb & Hotels") +
theme_economist() +
scale_color_economist()
ggplot(hotel_citydf, aes(`Bed(s)`, Avg, fill = Property.Form))+
geom_bar(stat="identity", position=position_dodge()) +
facet_grid(~City)+
scale_x_continuous(breaks = c(1,2)) +
scale_y_continuous(limits =  c(0,500),
breaks = seq(0,500,100)) +
labs(x = "Number of Beds",
y = "Average Price Per Night",
title = "Price Comparisons Between Airbnb & Hotels") +
theme_economist() +
scale_color_economist()
View(hotel_citydf)
unique(hotel_citydf$Avg)
hoteldf = read_csv("cleaned_four_hotels.csv") %>%
mutate(Property.Form = "hotel",
Price = parse_number(Price),
City = factor(City,
levels = c("la","sf","ch","nyc"),
labels= c("Los Angeles","San Francisco","Chicago","New York City"))) %>%
group_by(City,Property.Form) %>%
mutate(Avg = mean(Price)) %>%
select(Price, Room.Type, City, `Bed(s)`, Property.Form, Avg)
citydf = read_csv("updated_cleaned_four_cities.csv") %>%
mutate(Property.Form = "airbnb",
City = factor(City,
levels = c("la","sf","ch","ny"),
labels= c("Los Angeles","San Francisco","Chicago","New York City"))) %>%
select(Price, Room.Type, City, `Bed(s)`, Property.Form) %>%
filter(`Bed(s)` < 3) %>%
group_by(City, `Bed(s)`) %>%
mutate(Avg = mean(Price))
hotel_citydf = rbind(hoteldf, citydf)
write_csv(hotel_citydf, "hotel_citydf.csv")
unique(hotel_citydf$Avg)
View(hotel_citydf)
hotel_citydf = read_csv("hotel_citydf.csv")
ggplot(hotel_citydf, aes(`Bed(s)`, Avg, fill = Property.Form))+
geom_bar(stat="identity", position=position_dodge()) +
facet_grid(~City)+
scale_x_continuous(breaks = c(1,2)) +
scale_y_continuous(limits =  c(0,500),
breaks = seq(0,500,100)) +
labs(x = "Number of Beds",
y = "Average Price Per Night",
title = "Price Comparisons Between Airbnb & Hotels") +
theme_economist() +
scale_color_economist()
ggplot(hotel_citydf, aes(`Bed(s)`, Avg, fill = Property.Form))+
geom_bar(stat="identity", position=position_dodge()) +
facet_grid(~City)+
scale_x_continuous(breaks = c(1,2)) +
scale_y_continuous(limits =  c(0,500),
breaks = seq(0,500,100)) +
scale_fill_discrete(name = "Property Form",
labels = c("Airbnb","Hotels")) +
labs(x = "Number of Beds",
y = "Average Price Per Night",
title = "Price Comparisons Between Airbnb & Hotels") +
theme_economist() +
scale_color_economist()
hoteldf = read_csv("cleaned_four_hotels.csv") %>%
mutate(Property.Form = "hotel",
Price = parse_number(Price),
City = factor(City,
levels = c("la","sf","ch","nyc"),
labels= c("Los Angeles","San Francisco","Chicago","New York City"))) %>%
group_by(City, `Bed(s)`, Property.Form) %>%
mutate(Avg = mean(Price)) %>%
select(Price, Room.Type, City, `Bed(s)`, Property.Form, Avg)
hoteldf = read_csv("cleaned_four_hotels.csv")
View(hotel_citydf)
hoteldf = read_csv("cleaned_four_hotels.csv") %>%
mutate(Property.Form = "hotel",
Price = parse_number(Price),
City = factor(City,
levels = c("la","sf","ch","nyc"),
labels= c("Los Angeles","San Francisco","Chicago","New York City"))) %>%
group_by(City, `Bed(s)`, Property.Form) %>%
mutate(Avg = mean(Price)) %>%
select(Price, Room.Type, City, `Bed(s)`, Property.Form, Avg)
hoteldf = read_csv("cleaned_four_hotels.csv") %>%
mutate(Property.Form = "hotel",
Price = parse_number(Price),
City = factor(City,
levels = c("la","sf","ch","nyc"),
labels= c("Los Angeles","San Francisco","Chicago","New York City"))) %>%
group_by(City, `Bed(s)`) %>%
mutate(Avg = mean(Price)) %>%
select(Price, Room.Type, City, `Bed(s)`, Property.Form, Avg)
citydf = read_csv("updated_cleaned_four_cities.csv") %>%
mutate(Property.Form = "airbnb",
City = factor(City,
levels = c("la","sf","ch","ny"),
labels= c("Los Angeles","San Francisco","Chicago","New York City"))) %>%
select(Price, Room.Type, City, `Bed(s)`, Property.Form) %>%
filter(`Bed(s)` < 3) %>%
group_by(City, `Bed(s)`) %>%
mutate(Avg = mean(Price))
hoteldf = read_csv("cleaned_four_hotels.csv") %>%
mutate(Property.Form = "hotel",
Price = parse_number(Price),
City = factor(City,
levels = c("la","sf","ch","nyc"),
labels= c("Los Angeles","San Francisco","Chicago","New York City"))) %>%
group_by(City, `Bed(s)`) %>%
mutate(Avg = mean(Price)) %>%
select(Room.Type, City, `Bed(s)`, Property.Form, Avg)
View(hotel_citydf)
unique(hotel_citydf$`Bed(s)`)
hoteldf = read_csv("cleaned_four_hotels.csv") %>%
mutate(Property.Form = "hotel",
Price = parse_number(Price),
City = factor(City,
levels = c("la","sf","ch","nyc"),
labels= c("Los Angeles","San Francisco","Chicago","New York City"))) %>%
group_by(City, `Bed(s)`) %>%
mutate(Avg = mean(Price, na.omit = TRUE)) %>%
select(Room.Type, City, `Bed(s)`, Property.Form, Avg)
View(hoteldf)
hoteldf = read_csv("cleaned_four_hotels.csv")
View(hoteldf)
hoteldf = read_csv("cleaned_four_hotels.csv") %>%
mutate(Property.Form = "hotel",
Price = parse_number(Price),
City = factor(City,
levels = c("la","sf","ch","nyc"),
labels= c("Los Angeles","San Francisco","Chicago","New York City"))) %>%
group_by(City, `Bed(s)`) %>%
mutate(Avg = mean(Price, na.omit = TRUE)) %>%
select(Room.Type, City, `Bed(s)`, Property.Form, Avg)
hoteldf = read_csv("cleaned_four_hotels.csv") %>%
mutate(Property.Form = "hotel",
Price = parse_number(Price),
City = factor(City,
levels = c("la","sf","ch","nyc"),
labels= c("Los Angeles","San Francisco","Chicago","New York City")))
View(hoteldf)
hoteldf =  hoteldf %>%
group_by(City, `Bed(s)`) %>%
mutate(Avg = mean(Price, na.omit = TRUE)) %>%
select(Room.Type, City, `Bed(s)`, Property.Form, Avg)
names(hotel_citydf)
class(citydf$`Bed(s)`)
class(hoteldf$`Bed(s)`)
View(hotel_citydf)
ggplot(hotel_citydf, aes(`Bed(s)`, Avg, fill = Property.Form))+
geom_bar(stat="identity", position=position_dodge()) +
facet_grid(~City)+
scale_x_continuous(breaks = c(1,2)) +
scale_y_continuous(limits =  c(0,500),
breaks = seq(0,400,100)) +
scale_fill_discrete(name = "Property Form",
labels = c("Airbnb","Hotels")) +
labs(x = "Number of Beds",
y = "Average Price Per Night",
title = "Price Comparisons Between Airbnb & Hotels") +
theme_economist() +
scale_color_economist()
